!function(t){"use strict";function o(t,o){for(var t=new Array(parseInt(n.width/o.gridSize,10)+5),r=0;r<t.length;r++){t[r]=new Array(parseInt(n.height/o.gridSize,10)+5);for(var e=0;e<t[r].length;e++){t[r][e]={};var i=new a(o.posRandomness,o.posRandomness),h=new s(r*o.gridSize,e*o.gridSize);h=h.move(new a((-40),(-40))),h=h.move(new a(p(-i.x,i.x),p(-i.y,i.y)));var u=l(o.startColor,o.startColorRandomness),g=new c(t[r-1]?t[r-1][e].color.r:u.r,t[r-1]&&t[r-1][e-1]?t[r-1][e-1].color.g:u.g,t[r][e-1]?t[r][e-1].color.b:u.b);g=l(g,o.overTimeColorRandomness||0),t[r][e]={_color:g,color:l(g,0),orgPos:new s(h.x,h.y),currPos:h}}}return t}function r(t,o){for(var r=0;r<t.length-1;r++)for(var n=0;n<t[r].length-1;n++){var e=l(t[r][n].color,0);if(o.baseColor){var i=o.baseColor,s=o.baseColorOpacity;e.r=(e.r+i.r*s)/(1+s),e.g=(e.g+i.g*s)/(1+s),e.b=(e.b+i.b*s)/(1+s)}var a=new u([t[r+1][n].currPos,t[r][n].currPos,t[r][n+1].currPos,t[r+1][n+1].currPos],e,o.borderColor);a.fill()}}var n=document.getElementById("canvasHeader"),e=n.getContext("2d"),i=function(t,o,r){return t<o?o:t>r?r:t},s=function(t,o){this.x=t||0,this.y=o||0};s.prototype.move=function(t){return new s(this.x+t.x,this.y+t.y)},s.prototype.isEqual=function(t){return this.x===t.x&&this.y===t.y};var a=function(t,o){this.x=t||0,this.y=o||0};a.fromPoints=function(t,o){var r=t.x-o.x,n=t.y-o.y;return new a(r,n)},a.prototype.getDistance=function(){return Math.abs(Math.sqrt(Math.pow(this.x,2)+Math.pow(this.y,2)))},a.prototype.normalized=function(){var t=this.getDistance();return new a(this.x/t,this.y/t)},a.prototype.invert=function(){return new a(this.x*-1,this.y*-1)},a.prototype.multiply=function(t){return new a(this.x*t.x,this.y*t.y)},a.prototype.multiplyScalar=function(t){return new a(this.x*t,this.y*t)};var h=function(t,o){this.p1=t,this.p2=o};h.prototype.getVector=function(){return a.fromPoints(this.p1,this.p2)},h.prototype.getCenter=function(){var t=this.p2.x+(this.p1.x-this.p2.x)/2,o=this.p2.y+(this.p1.y-this.p2.y)/2;return new s(t,o)},h.prototype.getLength=function(){return this.getVector().getDistance()};var u=function(t,o,r){this.points=t||[],this.color=o||new c,this.borderColor=r};u.prototype.fill=function(){e.fillStyle=this.color.toString(),e.beginPath(),e.moveTo(this.points[0].x,this.points[0].y),this.points.forEach(function(t,o){e.lineTo(t.x,t.y)}),e.closePath(),e.fill(),this.borderColor&&(e.strokeStyle=this.borderColor.toString(),e.stroke()),t&&(e.font="12px Arial",this.points.forEach(function(t,o){e.strokeText("x: "+t.x+" y: "+t.y,t.x,t.y)}))};var c=function(t,o,r){this._r=0,this._g=0,this._b=0,this.r=t||0,this.g=o||0,this.b=r||0};Object.defineProperties(c.prototype,{r:{get:function(){return this._r},set:function(t){this._r=i(parseInt(t,10),0,255)}},g:{get:function(){return this._g},set:function(t){this._g=i(parseInt(t,10),0,255)}},b:{get:function(){return this._b},set:function(t){this._b=i(parseInt(t,10),0,255)}}}),c.prototype.getHexCode=function(){var t="#";return this.r<16&&(t+="0"),t+=this.r.toString(16),this.g<16&&(t+="0"),t+=this.g.toString(16),this.b<16&&(t+="0"),t+=this.b.toString(16)},c.prototype.toString=c.prototype.getHexCode;var p=function(t,o){return Math.floor(Math.random()*(o-t+1))+t},l=function(t,o){t||(t=new c),isNaN(o)&&(o=100);var r=o/100,n=p(t.r*(1-r),t.r+(255-t.r)*r),e=p(t.g*(1-r),t.g+(255-t.g)*r),i=p(t.b*(1-r),t.b+(255-t.b)*r);return new c(n,e,i)},g=function(t,o){for(var r=0;r<t.length-1;r++)for(var n=0;n<t[r].length-1;n++){var e=t[r][n];if(o.mousePos){var i=a.fromPoints(e.orgPos,o.mousePos),s=i.getDistance(),h=1-Math.pow(s/420,2);h>0&&(e.currPos=e.orgPos.move(i.normalized().multiply(new a(30,30)).multiply(new a(h,h))))}e.currPos.x=(e.orgPos.x+50*e.currPos.x)/51,e.currPos.y=(e.orgPos.y+50*e.currPos.y)/51}};!function(){var t=o(t,{posRandomness:26,startColor:new c(80,90,250),startColorRandomness:10,overTimeColorRandomness:5,gridSize:8e4/(window.screen.availWidth/2+900)}),e=new s(n.width/2,n.height/2),i=Date.now(),a=0;setTimeout(function(){n.parentNode.addEventListener("mousemove",function(t){var o=n.getBoundingClientRect(),r=new s(o.left,o.top),a=new s(t.clientX,t.clientY),h=new s((a.x-r.x)*(n.width/n.clientWidth),(a.y-r.y)*(n.height/n.clientHeight));e=h,i=Date.now()})},600);var h=function(){requestAnimationFrame(function(){i>a&&(g(t,{mousePos:e}),r(t,{baseColor:new c(25,80,250),borderColor:new c(18,31,45),baseColorOpacity:.4}),a=Date.now()),h()})};h()}()}(!1);
